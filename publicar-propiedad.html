<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Publica tu propiedad | Altorra</title>
<meta name="description" content="Envía los datos de tu inmueble para que Altorra lo venda, arriende o rente por días."/>
<!-- PWA y metadatos de redes sociales -->
<link rel="manifest" href="manifest.json"/>
<meta name="theme-color" content="#d4af37"/>
<meta property="og:title" content="Publica tu propiedad | Altorra"/>
<meta property="og:description" content="Publica tu inmueble con Altorra Inmobiliaria: difusión, asesoría jurídica y acompañamiento integral."/>
<meta property="og:image" content="/img/uploads/comprar1.png"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;800&display=swap" rel="stylesheet"/>

<style>
  /* ========== VARIABLES BASE (NO tocan header/footer) ========== */
  :root{
    --gold:#d4af37; --accent:#ffb400; --bg:#ffffff; --text:#111827; --muted:#6b7280;
    --header-h:72px; --page-max:1200px;
  }
  html,body{margin:0;padding:0;font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:var(--text);background:var(--bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  @media (prefers-reduced-motion:reduce){
    *{scroll-behavior:auto !important;animation:none !important;transition:none !important}
  }
  .sr-only{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap}

  /* ========== NO SE TOCA EL HEADER NI EL FOOTER ========== */
  /* (no hay reglas CSS para header/nav/menu/drawer/footer) */

  /* ========== ESTILOS PROPIOS DE ESTA PÁGINA (aislados con .pub-) ========== */
  .pub-hero{
    position:relative; min-height:56vh; display:flex; align-items:center; justify-content:center;
    text-align:center; padding-top:calc(var(--header-h) + 32px); color:#fff; overflow:hidden; margin-bottom:28px;
  }
  .pub-hero .pub-bg{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; }
  .pub-hero .pub-overlay{ position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.20),rgba(0,0,0,.55)); z-index:1; }
  .pub-hero .pub-inner{ position:relative; z-index:2; padding:0 16px; max-width:960px; }
  .pub-title{
    color:#fff; font-size:clamp(2.1rem,5vw,3rem); font-weight:800; line-height:1.05;
    text-shadow:0 1px 0 rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.28), 0 10px 22px rgba(0,0,0,.22);
  }
  .pub-subtitle{
    margin-top:10px; color:#fff; opacity:.98; font-size:clamp(1rem,2.2vw,1.2rem); font-weight:600; letter-spacing:.2px; line-height:1.35;
    text-shadow:0 1px 0 rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.28);
  }

  .pub-info{max-width:var(--page-max);margin:0 auto 36px;padding:0 16px;}
  .pub-card{
    background:#ffffff; border:1px solid rgba(17,24,39,0.08); border-radius:18px; padding:28px;
    box-shadow:0 10px 26px rgba(17,24,39,0.06); max-width:860px; margin:0 auto; text-align:center;
  }
  .pub-card h2{ margin:0 0 10px; font-size:1.55rem; font-weight:800; color:var(--gold); }
  .pub-card ul{ list-style:none; padding:0; margin:0; color:var(--muted); font-size:1rem; }
  .pub-card li{ margin:8px 0; }
  .pub-card li::before{ content:'\2713'; color:var(--gold); font-weight:800; margin-right:6px; }

  .pub-main{
    max-width:var(--page-max);
    margin:0 auto 60px;
    padding:0 16px 40px; /* respiro antes del footer */
    display:flex; flex-direction:column; align-items:center; gap:18px;
  }
  .pub-lead{ color:var(--muted); margin:0 auto 2px; max-width:760px; text-align:center; }

  .pub-form{
    display:flex; flex-direction:column; gap:16px;
    max-width:760px; width:100%; margin:0 auto;
    padding:32px 28px; background:#ffffff; border-radius:18px;
    border:1px solid rgba(17,24,39,0.08); box-shadow:0 12px 32px rgba(17,24,39,0.06);
  }
  .pub-form label{ display:flex; flex-direction:column; font-weight:700; gap:6px; }
  .pub-form input, .pub-form select, .pub-form textarea{
    padding:12px 14px; border-radius:12px; border:1px solid rgba(17,24,39,0.16);
    font-size:0.95rem; font-family:inherit; background:#fff;
    transition:border-color .15s ease, box-shadow .15s ease;
  }
  .pub-form textarea{ resize:vertical; min-height:140px; }
  .pub-form input:focus-visible, .pub-form select:focus-visible, .pub-form textarea:focus-visible{
    outline:3px solid rgba(212,175,55,0.25); border-color:var(--gold);
  }
  .pub-grid{display:grid; gap:14px;}
  .pub-grid.two{grid-template-columns:repeat(2,minmax(0,1fr));}
  @media (max-width:720px){ .pub-grid.two{grid-template-columns:1fr;} }

  .pub-form button{
    align-self:flex-start; padding:12px 22px; border-radius:14px; font-weight:800;
    background:linear-gradient(90deg,var(--accent),#ffd95e); color:#111; border:none; cursor:pointer;
    transition:transform .15s ease, box-shadow .2s ease, filter .15s ease;
    box-shadow:0 10px 26px rgba(0,0,0,.10);
  }
  .pub-form button:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(17,24,39,0.12); filter:saturate(1.05); }

</style>
</head>
<body>
<a href="#main" class="sr-only">Saltar al contenido principal</a>

<!-- ====== HEADER (EXACTO: inclusión por archivo; no se toca) ====== -->
<div id="include-header"></div>
<script>
/* includeSync: carga síncrona simple para garantizar que el header exista antes de los scripts
   Nota: si vas a probar con file:// algunos navegadores bloquean XHR locales. Usa servidor local si es necesario. */
function includeSync(id, url){
  try{
    var el = document.getElementById(id);
    if(!el) return;
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, false); // síncrono a propósito para mantener el mismo orden de ejecución
    xhr.send(null);
    if(xhr.status === 200 || xhr.status === 0){
      el.innerHTML = xhr.responseText;
    } else {
      console.warn('includeSync: error cargando', url, xhr.status);
    }
  }catch(e){
    console.warn('includeSync error', e);
  }
}
includeSync('include-header','header.html');
</script>

<!-- Registrar service worker para PWA (igual que en tus páginas) -->
<script>
  if('serviceWorker' in navigator){
    navigator.serviceWorker.register('/service-worker.js').catch(function(err){ console.warn('SW registration failed', err); });
  }
</script>

<!-- ========== CONTENIDO PROPIO DE ESTA PÁGINA ========== -->
<section class="pub-hero" aria-label="Publica tu propiedad">
  <img class="pub-bg" src="/img/uploads/comprar1.png" alt="Propiedad moderna y elegante"/>
  <div class="pub-overlay" aria-hidden="true"></div>
  <div class="pub-inner">
    <h1 class="pub-title">Publica tu propiedad</h1>
    <p class="pub-subtitle">Vende, arrienda o renta por días con el respaldo de Altorra Inmobiliaria.</p>
  </div>
</section>

<section class="pub-info">
  <div class="pub-card">
    <h2>¿Por qué publicar con Altorra?</h2>
    <ul>
      <li>Difusión en múltiples canales de venta y arriendo.</li>
      <li>Asesoría jurídica y acompañamiento integral.</li>
      <li>Amplia red de clientes potenciales.</li>
      <li>Nos encargamos de todo el proceso por ti.</li>
    </ul>
  </div>
</section>

<main id="main" class="pub-main" style="padding-bottom:32px">
  <p class="pub-lead">Completa el formulario y un asesor te contactará para ayudar a publicar tu inmueble.</p>

  <!-- FORMULARIO: envía con FormSubmit y redirige a gracias.html -->
  <form class="pub-form" action="https://formsubmit.co/altorrainmobiliaria@gmail.com" method="POST" accept-charset="UTF-8">
    <!-- Configuración FormSubmit -->
    <input type="hidden" name="_subject" value="Solicitud para publicar propiedad — Sitio Altorra" />
    <input type="hidden" name="_next" value="gracias.html" />
    <input type="hidden" name="_captcha" value="false" />
    <input type="hidden" name="_template" value="table" />
    <!-- Honeypot anti-bots -->
    <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off"/>

    <div class="pub-grid two">
      <label>Nombre completo
        <input type="text" name="Nombre" autocomplete="name" required />
      </label>
      <label>Correo electrónico
        <input type="email" name="Email" autocomplete="email" required />
      </label>
    </div>

    <div class="pub-grid two">
      <label>Teléfono de contacto
        <input type="tel" name="Teléfono" autocomplete="tel" required />
      </label>
      <label>Ciudad
        <input type="text" name="Ciudad" required />
      </label>
    </div>

    <div class="pub-grid two">
      <label>Operación
        <select name="Operación" required>
          <option value="Venta">Venta</option>
          <option value="Arriendo">Arriendo</option>
          <option value="Por días">Por días</option>
        </select>
      </label>
      <label>Tipo de propiedad
        <select name="Tipo" required>
          <option value="Apartamento">Apartamento</option>
          <option value="Casa">Casa</option>
          <option value="Oficina">Oficina</option>
          <option value="Lote">Lote</option>
          <option value="Otro">Otro</option>
        </select>
      </label>
    </div>

    <label>Precio estimado (COP)
      <input type="number" name="Precio" min="0" inputmode="numeric" />
    </label>

    <label>Descripción de la propiedad
      <textarea name="Descripción" placeholder="Habitaciones, baños, m², parqueadero, amenidades, cercanías..." required></textarea>
    </label>

    <button type="submit">Enviar solicitud</button>
  </form>
</main>

<!-- ====== FOOTER (EXACTO: inclusión por archivo; no se toca) ====== -->
<div id="include-footer"></div>
<script>
/* Reutilizamos includeSync definido arriba (siempre igual) */
if(typeof includeSync !== 'function'){
  function includeSync(id, url){
    try{
      var el = document.getElementById(id);
      if(!el) return;
      var xhr = new XMLHttpRequest();
      xhr.open('GET', url, false);
      xhr.send(null);
      if(xhr.status === 200 || xhr.status === 0) el.innerHTML = xhr.responseText;
    }catch(e){ console.warn('includeSync error', e); }
  }
}
includeSync('include-footer','footer.html');
</script>

<!-- ========== SCRIPTS (MENÚ + DRAWER) — EXACTOS A TU PLANTILLA ========== -->
<script>
/* ---------------- Helpers mínimos (no afectan header) ---------------- */
const isTouch = () => window.matchMedia('(hover: none)').matches || 'ontouchstart' in window;

/* ---------------- Desktop menu manager (copied del home) ---------------- */
(function(){
  const MARGIN = 12;
  let open = null;
  const supportsHover = window.matchMedia('(hover: hover)').matches;

  function resetPanelStyles(panel){
    panel.style.left=''; panel.style.top=''; panel.style.width=''; panel.style.maxWidth=''; panel.style.right='';
  }
  function placeAndShow(btn, panel, size){
    if(window.innerWidth <= 860) return;
    if(open && open.panel !== panel) hideImmediate(open);

    resetPanelStyles(panel);
    panel.style.display = 'block';
    panel.style.visibility = 'hidden';
    panel.style.position = 'fixed';
    panel.style.maxHeight = Math.max(260, window.innerHeight - (MARGIN*2)) + 'px';

    if(size === 'mega'){
      panel.style.width = Math.min(920, window.innerWidth - (MARGIN*2)) + 'px';
    } else {
      panel.style.width = 'auto';
      panel.style.maxWidth = Math.min(520, window.innerWidth - (MARGIN*2)) + 'px';
    }

    const preRect = panel.getBoundingClientRect();
    const bRect = btn.getBoundingClientRect();

    let left;
    if(size === 'mega'){
      left = Math.round(bRect.left + bRect.width/2 - preRect.width/2);
      left = Math.max(MARGIN, Math.min(left, window.innerWidth - preRect.width - MARGIN));
    } else {
      left = Math.round(Math.min(bRect.left, window.innerWidth - preRect.width - MARGIN));
      left = Math.max(left, MARGIN);
    }

    let top = Math.round(bRect.bottom + 8);
    if(top + preRect.height > window.innerHeight - MARGIN){
      top = Math.round(bRect.top - preRect.height - 8);
      if(top < MARGIN) top = MARGIN;
    }

    panel.style.left = left + 'px';
    panel.style.top = top + 'px';
    panel.style.visibility = 'visible';
    panel.classList.add('menu-visible');
    panel.setAttribute('aria-hidden','false');
    btn.setAttribute('aria-expanded','true');
    open = {panel, btn};
  }
  function hideImmediate(obj){
    if(!obj) return;
    obj.btn && obj.btn.setAttribute('aria-expanded','false');
    obj.panel.classList.remove('menu-visible');
    obj.panel.style.display = 'none';
    obj.panel.setAttribute('aria-hidden','true');
    resetPanelStyles(obj.panel);
    if(open && open.panel === obj.panel) open = null;
  }

  document.querySelectorAll('.nav-btn[data-panel]').forEach(btn=>{
    const panelId = btn.getAttribute('data-panel');
    const panel = document.getElementById(panelId);
    const item = btn.closest('.nav-item');
    const size = item ? (item.dataset.size || 'compact') : 'compact';
    let openTimer=null, closeTimer=null;
    const show = ()=> { clearTimeout(closeTimer); openTimer = setTimeout(()=>{ placeAndShow(btn, panel, size); }, 60); };
    const hide = ()=> { clearTimeout(openTimer); closeTimer = setTimeout(()=>{ hideImmediate({panel, btn}); }, 120); };
    if(supportsHover){
      btn.addEventListener('pointerenter', show);
      btn.addEventListener('pointerleave', hide);
      panel.addEventListener('pointerenter', ()=> { clearTimeout(closeTimer); clearTimeout(openTimer); });
      panel.addEventListener('pointerleave', hide);
    }
    btn.addEventListener('click', (e)=> {
      if(window.innerWidth > 860){
        e.preventDefault();
        if(panel.classList.contains('menu-visible')) hideImmediate({panel, btn});
        else placeAndShow(btn, panel, size);
      }
    });
    btn.addEventListener('focus', show);
    btn.addEventListener('blur', ()=> setTimeout(()=>{ if(!panel.contains(document.activeElement)) hide(); }, 60));
  });

  document.addEventListener('click', (e)=>{
    if(e.target.closest('nav') || e.target.closest('.menu-panel')) return;
    document.querySelectorAll('.menu-panel.menu-visible').forEach(p=> hideImmediate({panel:p, btn:null}));
  });
  document.addEventListener('keydown', (e)=> {
    if(e.key === 'Escape'){
      document.querySelectorAll('.menu-panel.menu-visible').forEach(p=> hideImmediate({panel:p, btn:null}));
    }
  });
  window.addEventListener('resize', ()=> {
    document.querySelectorAll('.menu-panel').forEach(p=> { p.classList.remove('menu-visible'); p.style.display='none'; p.setAttribute('aria-hidden','true'); resetPanelStyles(p); });
    document.querySelectorAll('.nav-btn[data-panel]').forEach(b => b.setAttribute('aria-expanded','false'));
    open = null;
  });
})();
</script>
<script>
/* ---------------- Drawer móvil (copied tal cual) ---------------- */
(function(){
  const toggle = document.getElementById('navToggle');
  const drawer = document.getElementById('mobileMenu');
  const backdrop = document.getElementById('drawerBackdrop');
  if(!toggle || !drawer || !backdrop) return;

  let lastFocus = null;
  function focusable(root){ return root.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'); }
  function setDrawerHeight(){
    const headerH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h')) || 72;
    drawer.style.height = (window.innerHeight - headerH) + 'px';
  }
  function clearDrawerHeight(){ drawer.style.height = ''; }
  function openDrawer(){
    lastFocus = document.activeElement;
    drawer.hidden = false;
    setDrawerHeight();
    window.addEventListener('resize', setDrawerHeight);
    window.addEventListener('orientationchange', setDrawerHeight);
    requestAnimationFrame(()=> {
      drawer.classList.add('open');
      backdrop.classList.add('open');
      document.body.style.overflow='hidden';
      toggle.setAttribute('aria-expanded','true');
      const el = focusable(drawer)[0];
      el && el.focus();
    });
  }
  function closeDrawer(){
    drawer.classList.remove('open');
    backdrop.classList.remove('open');
    document.body.style.overflow='';
    toggle.setAttribute('aria-expanded','false');
    window.removeEventListener('resize', setDrawerHeight);
    window.removeEventListener('orientationchange', setDrawerHeight);
    setTimeout(()=> { drawer.hidden = true; clearDrawerHeight(); }, 200);
    lastFocus && lastFocus.focus();
  }
  toggle.addEventListener('click', ()=> drawer.classList.contains('open') ? closeDrawer() : openDrawer());
  backdrop.addEventListener('click', closeDrawer);
  document.addEventListener('keydown', (e)=> {
    if(e.key === 'Escape' && !drawer.hidden) closeDrawer();
    if(e.key === 'Tab' && !drawer.hidden){
      const els = Array.from(focusable(drawer));
      if(els.length === 0) return;
      const first = els[0], last = els[els.length-1];
      if(e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
      else if(!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
    }
  });
  window.addEventListener('resize', ()=> { if(window.innerWidth > 860 && !drawer.hidden) closeDrawer(); });
})();
</script>
</body>
</html>
