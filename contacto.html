<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contacto | Altorra</title>
  <meta name="description" content="Ponte en contacto con Altorra Inmobiliaria: Administración y arriendo de inmuebles, ventas, avalúos y servicios legales inmobiliarios." />
  <!-- PWA and social metadata -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#d4af37" />
  <meta property="og:title" content="Contacto | Altorra" />
  <meta property="og:description" content="Estamos Aquí para Ti: Cuéntanos lo que necesitas y un asesor de Altorra te contactará pronto." />
  <meta property="og:image" content="/hero-contact.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  <style>
    :root{
      --gold:#d4af37;

      --accent:#ffb400;
      --bg:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --header-h:72px;
      --page-max:1200px;
      --overlay: rgba(0,0,0,0.30);
      --card-r:18px;
      --card-pad:28px;
      --card-gap:16px;
    }

    *{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:var(--text);background:transparent;}
    html,body{background:var(--bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
    a{text-decoration:none;color:inherit;}
    [id]{ scroll-margin-top: calc(var(--header-h) + 12px); }

    /* ====== HEADER ====== */
    header{
      position:fixed;top:0;left:0;right:0;height:var(--header-h);display:flex;align-items:center;
      background:var(--bg);z-index:140;border-bottom:1px solid rgba(0,0,0,0.06);
      box-shadow:0 8px 26px rgba(0,0,0,0.06);
    }
    .container{max-width:var(--page-max);margin:0 auto;width:100%;padding:0 16px;display:flex;align-items:center;gap:12px}
    .brand{display:flex;align-items:center;gap:10px;margin-right:6px}
    .brand img{width:48px;height:48px;object-fit:contain}
    .brand .name{font-weight:800;letter-spacing:-0.6px;text-transform:uppercase;font-size:1.02rem}

    nav{margin-left:auto;display:flex;align-items:center;gap:8px}
    .nav-list{display:flex;gap:6px;align-items:center;margin-left:auto}
    .nav-item{position:relative}
    .nav-btn{background:transparent;border:0;padding:8px 12px;font-weight:700;cursor:pointer;border-radius:8px;color:var(--text);font-size:0.95rem}
    .nav-btn:focus{outline:3px solid rgba(212,175,55,0.18);outline-offset:3px}

    .nav-toggle{display:none;margin-left:auto;background:transparent;border:1px solid rgba(0,0,0,.1);border-radius:10px;padding:8px 12px;font-weight:800}
    .nav-toggle:focus{outline:3px solid rgba(212,175,55,0.18);outline-offset:3px}

    .menu-panel{
      display:none;position:fixed;z-index:150;padding:14px;border-radius:12px;
      background:linear-gradient(180deg,#fff,#fbfbfb);border:1px solid rgba(0,0,0,0.06);
      box-shadow:0 22px 48px rgba(0,0,0,0.12);max-height:calc(100vh - var(--header-h) - 20px);overflow:auto;
    }
    .menu-visible{display:block;opacity:1;transform:none}
    .panel-compact{min-width:220px;max-width:44vw}
    .panel-mega{min-width:360px;max-width:920px;width:min(88vw,920px)}
    .mega-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .mega-col h4{margin:0 0 8px;color:var(--gold);font-weight:700}
    .menu-link{display:block;padding:6px;border-radius:8px;color:#0f1724}
    .menu-link:hover{background:rgba(0,0,0,0.03)}

    .drawer-backdrop{
      position:fixed;inset:0;background:var(--overlay);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);
      z-index:160;opacity:0;pointer-events:none;transition:opacity .2s ease;
    }
    .drawer{
      position:fixed;left:0;right:0;top:var(--header-h);
      height:calc(100vh - var(--header-h) - env(safe-area-inset-bottom));
      height:calc(100dvh - var(--header-h));
      padding-bottom:max(24px, env(safe-area-inset-bottom));
      background:#fff;z-index:161;transform:translateY(-8px);opacity:0;pointer-events:none;
      transition:transform .24s ease, opacity .2s ease;overflow:auto;border-top:1px solid rgba(0,0,0,.06);
      overscroll-behavior:contain;-webkit-overflow-scrolling:touch;
    }
    .drawer.open{transform:none;opacity:1;pointer-events:auto}
    .drawer-backdrop.open{opacity:1;pointer-events:auto}
    .drawer .block{padding:16px;border-bottom:1px solid rgba(0,0,0,.06)}
    .drawer .block:last-child{padding-bottom:max(32px, env(safe-area-inset-bottom))}
    .drawer h4{margin:0 0 8px;color:var(--gold)}
    .drawer a{display:block;padding:8px 2px}

    @media (max-width:860px){
      .nav-list{display:none}
      .nav-toggle{display:inline-flex;align-items:center;gap:8px}
      .menu-panel{display:none !important}
    }

    /* ====== HERO CONTACTO ====== */
    .hero-contact{
      position:relative; min-height:62vh; display:flex; align-items:center; justify-content:center;
      text-align:center; padding-top:calc(var(--header-h) + 40px); color:#fff; overflow:hidden; margin-bottom:32px;
    }
    .hero-contact .bg{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; }
    .hero-contact .overlay{ position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.55)); z-index:1; }
    .hero-contact .inner{ position:relative; z-index:2; padding:0 16px; max-width:960px; }
    .hero-title{
      color:#fff; font-size:clamp(2.2rem,5vw,3rem); font-weight:800; line-height:1.05;
      text-shadow:0 1px 0 rgba(0,0,0,.35), 0 2px 2px rgba(0,0,0,.35), 0 6px 12px rgba(0,0,0,.28), 0 14px 28px rgba(0,0,0,.22);
      -webkit-text-stroke:.4px rgba(0,0,0,.15);
    }
    .hero-subtitle{
      margin-top:12px; color:#fff; opacity:.98; font-size:clamp(1rem,2.2vw,1.2rem); font-weight:600; letter-spacing:.2px; line-height:1.35;
      text-shadow:0 1px 0 rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.28), 0 8px 18px rgba(0,0,0,.20);
      -webkit-text-stroke:.3px rgba(0,0,0,.12);
    }

    /* ====== CUERPO CONTACTO ====== */
    main.contact-container{
      max-width:var(--page-max);
      margin:0 auto 60px; padding:0 16px; display:grid; gap:24px;
      grid-template-columns: 1.12fr .88fr;
      align-items:start; /* no estirar filas */
    }
    @media (max-width:960px){ main.contact-container{ grid-template-columns:1fr; } }

    .card{
      background:#ffffff; border:1px solid rgba(17,24,39,0.08); border-radius:var(--card-r); padding:var(--card-pad);
      box-shadow:0 12px 32px rgba(17,24,39,0.06); width:100%;
    }
    .card h2{ margin:0 0 10px; font-size:1.6rem; font-weight:800; color:var(--gold); }
    .muted{ color:var(--muted); }

    /* ====== Right column stack (alineado, sin huecos) ====== */
    .right-stack{ grid-column:2; display:flex; flex-direction:column; gap:var(--card-gap); }
    .right-stack > .card{ border-radius:var(--card-r); padding:var(--card-pad); }
    @media (max-width:960px){ .right-stack{ grid-column:1; } }

    /* ====== Formulario ====== */
    form.contact-form{ display:flex; flex-direction:column; gap:16px; }
    .grid{ display:grid; gap:14px; }
    .grid.two{ grid-template-columns:repeat(2,minmax(0,1fr)); }
    @media (max-width:700px){ .grid.two{ grid-template-columns:1fr; } }
    label{ font-weight:600; display:flex; flex-direction:column; gap:6px; }
    input, select, textarea{
      padding:12px 14px; border-radius:12px; border:1px solid rgba(17,24,39,0.16);
      font-size:0.95rem; font-family:inherit; background:#fff;
      transition:border-color .15s ease, box-shadow .15s ease;
    }
    textarea{ resize:vertical; min-height:160px; }
    input:focus-visible, select:focus-visible, textarea:focus-visible{
      outline:3px solid rgba(212,175,55,0.22); border-color:var(--gold);
    }
    .consent{ display:flex; align-items:flex-start; gap:10px; font-size:0.92rem; color:#374151; }
    .consent input{ margin-top:3px; }

    .btn{
      align-self:flex-start; padding:14px 26px; border-radius:14px; font-weight:800;
      background:linear-gradient(90deg,var(--accent),#ffd95e); color:#111; border:none; cursor:pointer;
      transition:transform .15s ease, box-shadow .2s ease, filter .15s ease;
    }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(17,24,39,0.12); filter:saturate(1.05); }

    /* ====== Info lateral ====== */
    .info-list{ list-style:none; padding:0; margin:0; display:grid; gap:12px; color:#1f2937; }
    .info-item{ display:flex; gap:12px; align-items:flex-start; }
    .info-item strong{ font-weight:800; color:#0f1724; }
    .quick-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
    .qa{ padding:10px 14px; border-radius:12px; font-weight:700; border:1px solid rgba(0,0,0,.12); background:#f8fafc; }
    .qa:hover{ background:#fff; box-shadow:0 10px 24px rgba(0,0,0,.06); }

    /* ====== Generador de mensaje ====== */
    .gen-grid{ display:grid; gap:12px; grid-template-columns:1fr 1fr; }
    .gen-grid .full{ grid-column:1 / -1; }
    @media (max-width:700px){ .gen-grid{ grid-template-columns:1fr; } }
    .out{
      border:1px dashed rgba(17,24,39,0.22); border-radius:12px; padding:10px 12px; background:#f9fafb; min-height:48px;
      color:#374151; line-height:1.4; word-break:break-word; overflow:auto; max-height:140px;
    }
    .gen-actions{ display:flex; gap:10px; flex-wrap:wrap; }

    /* ====== FOOTER ====== */
    footer{background:#0b0b0b;color:#fff;padding:36px 16px}
    .footer-grid{max-width:var(--page-max);margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
    @media (max-width:920px){ .footer-grid{grid-template-columns:1fr} }

    /* === Banner más alto / enfoque arriba escritorio === */
    @media (min-width:960px){
      .hero-contact{ min-height:72vh; }
      .hero-contact .bg{ object-position: center top; }
    }
  </style>
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header>
    <div class="container">
      <a class="brand" href="index.html">
        <img src="https://i.postimg.cc/SsPmBFXt/Chat-GPT-Image-9-ago-2025-10-31-20.png" alt="Logo de Altorra" width="48" height="48"/>
      </a>
      <nav aria-label="Menú principal">
        <div class="nav-list">
          <div class="nav-item" data-size="compact">
            <button class="nav-btn" data-panel="panel-propiedades" aria-controls="panel-propiedades" aria-expanded="false">Propiedades</button>
          </div>
          <div class="nav-item" data-size="mega">
            <button class="nav-btn" data-panel="panel-servicios" aria-controls="panel-servicios" aria-expanded="false">Servicios</button>
          </div>
          <div class="nav-item" data-size="compact">
            <button class="nav-btn" data-panel="panel-nosotros" aria-controls="panel-nosotros" aria-expanded="false">Nosotros</button>
          </div>
          <div class="nav-item">
            <a class="nav-btn" href="contacto.html">Contacto</a>
          </div>
        </div>
      </nav>
      <button id="navToggle" class="nav-toggle" aria-controls="mobileMenu" aria-expanded="false" aria-label="Abrir menú">☰ Menú</button>
    </div>
  </header>

  <!-- ===== Paneles del header ===== -->
  <div id="panel-propiedades" class="menu-panel panel-compact" role="dialog" aria-modal="false" aria-hidden="true">
    <a class="menu-link" href="propiedades-comprar.html">Comprar</a>
    <a class="menu-link" href="propiedades-arrendar.html">Arrendar</a>
    <a class="menu-link" href="propiedades-alojamientos.html">Rentar por días</a>
  </div>
  <div id="panel-servicios" class="menu-panel panel-mega" role="dialog" aria-modal="false" aria-hidden="true">
    <div class="mega-grid">
      <div class="mega-col">
        <h4>Gestión</h4>
        <a class="menu-link" href="servicios-administracion.html">Administración de inmuebles</a>
        <a class="menu-link" href="servicios-avaluos.html">Avalúos</a>
        <a class="menu-link" href="servicios-mantenimiento.html">Mantenimiento y reparaciones</a>
        <a class="menu-link" href="servicios-mudanzas.html">Mudanzas y logística</a>
      </div>
      <div class="mega-col">
        <h4>Jurídico &amp; Contable</h4>
        <a class="menu-link" href="servicios-juridicos.html">Servicios jurídicos</a>
        <a class="menu-link" href="servicios-contables.html">Servicios contables</a>
        <a class="menu-link" href="#">Gestión de contratos</a>
      </div>
      <div class="mega-col">
        <h4>Turismo (Cartagena)</h4>
        <a class="menu-link" href="#">Renta de yates</a>
        <a class="menu-link" href="#">Pasadías en islas</a>
        <a class="menu-link" href="#">Paquetes turísticos</a>
        <a class="menu-link" href="#">Tours históricos</a>
      </div>
    </div>
  </div>
  <div id="panel-nosotros" class="menu-panel panel-compact" role="dialog" aria-modal="false" aria-hidden="true">
    <a class="menu-link" href="quienes-somos.html">Quiénes somos</a>
    <a class="menu-link" href="quienes-somos.html#mision">Misión</a>
    <a class="menu-link" href="quienes-somos.html#vision">Visión</a>
    <a class="menu-link" href="quienes-somos.html#valores">Valores</a>
    <a class="menu-link" href="quienes-somos.html#equipo">Nuestro equipo</a>
  </div>

  <!-- ===== Menú móvil ===== -->
  <div id="drawerBackdrop" class="drawer-backdrop" aria-hidden="true"></div>
  <aside id="mobileMenu" class="drawer" role="dialog" aria-modal="true" aria-labelledby="mobileMenuTitle" hidden>
    <div class="block">
      <h3 id="mobileMenuTitle" style="margin:0;font-weight:800;color:var(--gold)">Menú</h3>
    </div>
    <div class="block">
      <h4>Propiedades</h4>
      <a href="propiedades-comprar.html">Comprar</a>
      <a href="propiedades-arrendar.html">Arrendar</a>
      <a href="propiedades-alojamientos.html">Rentar por días</a>
    </div>
    <div class="block">
      <h4>Servicios</h4>
      <a href="servicios-administracion.html">Administración de inmuebles</a>
      <a href="servicios-avaluos.html">Avalúos</a>
      <a href="servicios-mantenimiento.html">Mantenimiento y reparaciones</a>
      <a href="servicios-mudanzas.html">Mudanzas y logística</a>
      <a href="servicios-juridicos.html">Servicios jurídicos</a>
      <a href="servicios-contables.html">Servicios contables</a>
      <a href="#">Gestión de contratos</a>
      <h4 style="margin-top:12px">Turismo (Cartagena)</h4>
      <a href="#">Renta de yates</a>
      <a href="#">Pasadías en islas</a>
      <a href="#">Paquetes turísticos</a>
      <a href="#">Tours históricos</a>
    </div>
    <div class="block">
      <h4>Empresa</h4>
      <a href="quienes-somos.html">Quiénes somos</a>
      <a href="contacto.html">Contacto</a>
      
    </div>
  </aside>

  <!-- ===== HERO ===== -->
  <section class="hero-contact">
    <img class="bg" src="/multimedia/hero-contact.png" alt="Contacto Altorra" />
    <div class="overlay" aria-hidden="true"></div>
    <div class="inner">
      <h1 class="hero-title">Conéctate con Nosotros</h1>
      <p class="hero-subtitle">Estamos listos para ayudarte a encontrar tu próximo hogar o inversión.</p>
      <div class="quick-actions" style="justify-content:center;margin-top:14px"></div>
    </div>
  </section>

  <!-- ===== CONTENIDO ===== -->
  <main class="contact-container" id="contacto">
    <!-- Columna izquierda: Formulario -->
    <section class="card" aria-labelledby="t-contacto">
      <h2 id="t-contacto">Envíanos un mensaje</h2>
      <p class="muted">Te responderemos en el menor tiempo posible.</p>
      <form class="contact-form" id="contactForm" action="https://formsubmit.co/altorrainmobiliaria@gmail.com" method="POST" accept-charset="UTF-8">
        <!-- Config FormSubmit -->
        <input type="hidden" name="_subject" value="Nuevo contacto desde la web" />
        <input type="hidden" name="_next" value="https://altorrainmobiliaria.github.io/gracias.html" />
        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_template" value="table" />
        <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off" />

        <div class="grid two">
          <label>Nombre completo
            <input type="text" name="Nombre" autocomplete="name" required />
          </label>
          <label>Correo electrónico
            <input type="email" name="Email" autocomplete="email" required />
          </label>
        </div>

        <div class="grid two">
          <label>Teléfono
            <input type="tel" name="Teléfono" inputmode="tel" autocomplete="tel" placeholder="+57 323 501 6747" required />
          </label>
          <label>Motivo
            <select name="Motivo" required>
              <option value="Comprar">Comprar</option>
              <option value="Arriendo">Arriendo</option>
              <option value="Por días">Por días</option>
              <option value="Publicar propiedad">Publicar propiedad</option>
              <option value="Avalúos">Avalúos</option>
              <option value="Servicios jurídicos">Servicios jurídicos</option>
              <option value="Servicios contables">Servicios contables</option>
              <option value="Otro">Otro</option>
            </select>
          </label>
        </div>

        <label>Mensaje
          <textarea name="Mensaje" placeholder="Cuéntanos brevemente cómo podemos ayudarte…" required></textarea>
        </label>

        <label class="consent">
          <input type="checkbox" required />
          <span>Autorizo el tratamiento de mis datos para recibir información relacionada con los servicios de Altorra.</span>
        </label>

        <button class="btn" type="submit">Enviar mensaje</button>
      </form>
    </section>

    <!-- Columna derecha: STACK sin huecos -->
    <div class="right-stack">
      <!-- Información corporativa -->
      <aside class="card" aria-labelledby="t-info">
        <h2 id="t-info">Información de contacto</h2>
        <ul class="info-list" style="margin-top:6px">
          <li class="info-item"><strong>Teléfono:</strong> +57 323 501 6747</li>
          <li class="info-item"><strong>Email:</strong> altorrainmobiliaria@gmail.com</li>
          <li class="info-item"><strong>Ciudad:</strong> Cartagena de Indias, Bolívar (CO)</li>
          <li class="info-item"><strong>Horario:</strong> Lun–Sáb 8:00–18:00</li>
          <li class="info-item"><strong>Instagram:</strong> <a href="https://instagram.com/altorrainmobiliaria" target="_blank" rel="noopener">@altorrainmobiliaria</a></li>
        </ul>

        <div class="quick-actions">
          <!-- se elimina 'Escribir por WhatsApp' para no duplicar -->
          <a class="qa" href="publicar-propiedad.html">Publicar mi propiedad</a>
          <a class="qa" href="propiedades-comprar.html">Ver propiedades</a>
        </div>
      </aside>

      <!-- Generador de mensaje inteligente -->
      <section class="card" aria-labelledby="t-gen">
        <h2 id="t-gen">Generador de mensaje inteligente</h2>
        <p class="muted">Arma un mensaje claro y abre WhatsApp con un toque.</p>
        <div class="gen-grid" style="margin-top:8px">
          <label>
            Interés
            <select id="gTipo">
              <option>Comprar</option>
              <option>Arriendo</option>
              <option>Por días</option>
              <option>Publicar propiedad</option>
              <option>Avalúos</option>
              <option>Servicios jurídicos</option>
              <option>Servicios contables</option>
            </select>
          </label>
          <label>
            Barrio / zona (opcional)
            <input id="gZona" type="text" placeholder="Toda Cartagena" />
          </label>
          <label>
            Presupuesto aprox. (COP)
            <input id="gPres" type="number" min="0" step="100000" placeholder="Ej. 1.200.000" />
          </label>
          <label>
            Urgencia
            <select id="gUrg">
              <option value="normal">Quiero información</option>
              <option value="alta">Necesito respuesta hoy</option>
              <option value="media">Esta semana</option>
            </select>
          </label>
          <label class="full">
            Detalles (opcional)
            <input id="gExtra" type="text" placeholder="Habitaciones, amoblado, área…" />
          </label>
          <div class="full out" id="gOut" aria-live="polite"></div>
          <div class="gen-actions full">
            <a id="gWA" class="qa" target="_blank" rel="noopener">Abrir WhatsApp</a>
            <button id="gCopy" class="qa" type="button">Copiar mensaje</button>
          </div>
        </div>
      </section>
    </div> <!-- /right-stack -->
  </main>

  <!-- ===== FOOTER ===== -->
  <footer>
    <div class="footer-grid">
      <div>
        <h3 style="margin:0;color:var(--gold);font-weight:800">ALTORRA INMOBILIARIA</h3>
        <p style="color:#cbd5e1;margin-top:8px;line-height:1.4">
          Administración, Arriendo y Venta de Inmuebles<br/>
          Avalúos<br/>
          Servicios Legales Especializados
        </p>
        <div style="margin-top:12px;font-weight:800;color:var(--gold)">
          <a href="tel:+573235016747">+57&nbsp;323&nbsp;501&nbsp;6747</a>
        </div>
      </div>
      <div>
        <h4 style="margin:0 0 8px;font-weight:700;color:var(--gold)">Propiedades</h4>
        <ul style="margin:0;padding:0;list-style:none;color:#cbd5e1">
          <li><a href="propiedades-comprar.html" style="color:#cbd5e1">Comprar</a></li>
          <li><a href="propiedades-arrendar.html" style="color:#cbd5e1">Arrendar</a></li>
          <li><a href="propiedades-alojamientos.html" style="color:#cbd5e1">Por días</a></li>
        </ul>
      </div>
      <div>
        <h4 style="margin:0 0 8px;font-weight:700;color:var(--gold)">Servicios</h4>
        <ul style="margin:0;padding:0;list-style:none;color:#cbd5e1">
          <li><a href="servicios-administracion.html" style="color:#cbd5e1">Administración</a></li>
          <li><a href="servicios-juridicos.html" style="color:#cbd5e1">Servicios jurídicos</a></li>
          <li><a href="servicios-contables.html" style="color:#cbd5e1">Servicios contables</a></li>
        </ul>
      </div>
      <div>
        <h4 style="margin:0 0 8px;font-weight:700;color:var(--gold)">Empresa</h4>
        <ul style="margin:0;padding:0;list-style:none;color:#cbd5e1">
          <li><a href="quienes-somos.html" style="color:#cbd5e1">Quiénes somos</a></li>
          <li><a href="contacto.html" style="color:#cbd5e1">Contacto</a></li>
         
        </ul>
      </div>
    </div>
    <div style="max-width:var(--page-max);margin:18px auto 0;color:#9ca3af;text-align:center;font-size:0.9rem">© 2025 Altorra Inmobiliaria — Hecho con confianza.</div>
  </footer>

  <!-- ===== Service worker ===== -->
  <script>
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('/service-worker.js').catch(function(err){ console.warn('SW registration failed', err); });
    }
  </script>

  <!-- ===== Lazy loading imágenes ===== -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('img').forEach(function(img) {
        if (!img.hasAttribute('loading')) img.setAttribute('loading', 'lazy');
      });
    });
  </script>

  <!-- ===== SEO: Schema.org ===== -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ContactPage",
    "name":"Contacto | Altorra Inmobiliaria",
    "url":"https://altorrainmobiliaria.github.io/contacto.html",
    "about":{"@type":"RealEstateAgent","name":"Altorra Inmobiliaria"},
    "contactPoint":{
      "@type":"ContactPoint",
      "contactType":"customer support",
      "telephone":"+57-323-501-6747",
      "email":"altorrainmobiliaria@gmail.com",
      "areaServed":"CO",
      "availableLanguage":["es"]
    }
  }
  </script>

  <!-- ===== Scripts de menú ===== -->
  <script>
    (function(){
      const MARGIN = 12;
      let open = null;
      const supportsHover = window.matchMedia('(hover: hover)').matches;

      function resetPanelStyles(panel){
        panel.style.left=''; panel.style.top=''; panel.style.width=''; panel.style.maxWidth=''; panel.style.right='';
      }
      function placeAndShow(btn, panel, size){
        if(window.innerWidth <= 860) return;
        if(open && open.panel !== panel) hideImmediate(open);
        resetPanelStyles(panel);
        panel.style.display = 'block';
        panel.style.visibility = 'hidden';
        panel.style.position = 'fixed';
        panel.style.maxHeight = Math.max(260, window.innerHeight - (MARGIN*2)) + 'px';
        if(size === 'mega'){
          panel.style.width = Math.min(920, window.innerWidth - (MARGIN*2)) + 'px';
        } else {
          panel.style.width = 'auto';
          panel.style.maxWidth = Math.min(520, window.innerWidth - (MARGIN*2)) + 'px';
        }
        const preRect = panel.getBoundingClientRect();
        const bRect = btn.getBoundingClientRect();
        let left;
        if(size === 'mega'){
          left = Math.round(bRect.left + bRect.width/2 - preRect.width/2);
          left = Math.max(MARGIN, Math.min(left, window.innerWidth - preRect.width - MARGIN));
        } else {
          left = Math.round(Math.min(bRect.left, window.innerWidth - preRect.width - MARGIN));
          left = Math.max(left, MARGIN);
        }
        let top = Math.round(bRect.bottom + 8);
        if(top + preRect.height > window.innerHeight - MARGIN){
          top = Math.round(bRect.top - preRect.height - 8);
          if(top < MARGIN) top = MARGIN;
        }
        panel.style.left = left + 'px';
        panel.style.top = top + 'px';
        panel.style.visibility = 'visible';
        panel.classList.add('menu-visible');
        panel.setAttribute('aria-hidden','false');
        btn.setAttribute('aria-expanded','true');
        open = {panel, btn};
      }
      function hideImmediate(obj){
        if(!obj) return;
        obj.btn && obj.btn.setAttribute('aria-expanded','false');
        obj.panel.classList.remove('menu-visible');
        obj.panel.style.display='none';
        obj.panel.setAttribute('aria-hidden','true');
        resetPanelStyles(obj.panel);
        if(open && open.panel === obj.panel) open = null;
      }
      document.querySelectorAll('.nav-btn[data-panel]').forEach(btn=>{
        const panelId = btn.getAttribute('data-panel');
        const panel = document.getElementById(panelId);
        const item = btn.closest('.nav-item');
        const size = item ? (item.dataset.size || 'compact') : 'compact';
        let openTimer=null, closeTimer=null;
        const show = ()=> { clearTimeout(closeTimer); openTimer = setTimeout(()=>{ placeAndShow(btn, panel, size); }, 60); };
        const hide = ()=> { clearTimeout(openTimer); closeTimer = setTimeout(()=>{ hideImmediate({panel, btn}); }, 120); };
        if(supportsHover){
          btn.addEventListener('pointerenter', show);
          btn.addEventListener('pointerleave', hide);
          panel.addEventListener('pointerenter', ()=> { clearTimeout(closeTimer); clearTimeout(openTimer); });
          panel.addEventListener('pointerleave', hide);
        }
        btn.addEventListener('click', (e)=> {
          if(window.innerWidth > 860){
            e.preventDefault();
            if(panel.classList.contains('menu-visible')) hideImmediate({panel, btn});
            else placeAndShow(btn, panel, size);
          }
        });
        btn.addEventListener('focus', show);
        btn.addEventListener('blur', ()=> setTimeout(()=>{ if(!panel.contains(document.activeElement)) hide(); }, 60));
      });
      document.addEventListener('click', (e)=>{
        if(e.target.closest('nav') || e.target.closest('.menu-panel')) return;
        document.querySelectorAll('.menu-panel.menu-visible').forEach(p=> hideImmediate({panel:p, btn:null}));
      });
      document.addEventListener('keydown', (e)=> {
        if(e.key === 'Escape'){
          document.querySelectorAll('.menu-panel.menu-visible').forEach(p=> hideImmediate({panel:p, btn:null}));
        }
      });
      window.addEventListener('resize', ()=> {
        document.querySelectorAll('.menu-panel').forEach(p=> { p.classList.remove('menu-visible'); p.style.display='none'; p.setAttribute('aria-hidden','true'); resetPanelStyles(p); });
        document.querySelectorAll('.nav-btn[data-panel]').forEach(b => b.setAttribute('aria-expanded','false'));
        open = null;
      });
    })();

    (function(){
      const toggle = document.getElementById('navToggle');
      const drawer = document.getElementById('mobileMenu');
      const backdrop = document.getElementById('drawerBackdrop');
      if(!toggle || !drawer || !backdrop) return;
      let lastFocus = null;
      function focusable(root){ return root.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'); }
      function setDrawerHeight(){
        const headerH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h')) || 72;
        drawer.style.height = (window.innerHeight - headerH) + 'px';
      }
      function clearDrawerHeight(){ drawer.style.height = ''; }
      function openDrawer(){
        lastFocus = document.activeElement;
        drawer.hidden = false;
        setDrawerHeight();
        window.addEventListener('resize', setDrawerHeight);
        window.addEventListener('orientationchange', setDrawerHeight);
        requestAnimationFrame(()=> {
          drawer.classList.add('open');
          backdrop.classList.add('open');
          document.body.style.overflow='hidden';
          toggle.setAttribute('aria-expanded','true');
          const el = focusable(drawer)[0];
          el && el.focus();
        });
      }
      function closeDrawer(){
        drawer.classList.remove('open');
        backdrop.classList.remove('open');
        document.body.style.overflow='';
        toggle.setAttribute('aria-expanded','false');
        clearDrawerHeight();
        window.removeEventListener('resize', setDrawerHeight);
        window.removeEventListener('orientationchange', setDrawerHeight);
        requestAnimationFrame(()=> {
          drawer.hidden = true;
          if(lastFocus) lastFocus.focus();
        });
      }
      toggle.addEventListener('click', ()=> drawer.classList.contains('open') ? closeDrawer() : openDrawer());
      backdrop.addEventListener('click', closeDrawer);
      document.addEventListener('keydown', (e)=> { if(e.key === 'Escape' && drawer.classList.contains('open')) closeDrawer(); });
    })();
  </script>

  <!-- ===== Lógica del generador ===== -->
  <script>
    // Formateo COP
    const fmtCOP = n => isNaN(n) ? '—' : n.toLocaleString('es-CO',{style:'currency',currency:'COP',maximumFractionDigits:0});

    // Generador de mensaje inteligente
    const gTipo = document.getElementById('gTipo');
    const gZona = document.getElementById('gZona');
    const gPres = document.getElementById('gPres');
    const gUrg  = document.getElementById('gUrg');
    const gExtra= document.getElementById('gExtra');
    const gOut  = document.getElementById('gOut');
    const gWA   = document.getElementById('gWA');
    const gCopy = document.getElementById('gCopy');

    function buildMsg(){
      const tipo = gTipo.value;
      const zona = gZona.value.trim() || 'Cartagena';
      const pres = gPres.value ? ` Presupuesto aprox: ${fmtCOP(+gPres.value)}.` : '';
      const urg  = gUrg.value==='alta' ? ' Necesito respuesta hoy.' : (gUrg.value==='media' ? ' Me sirve esta semana.' : '');
      const extra= gExtra.value.trim() ? ` Detalles: ${gExtra.value.trim()}.` : '';
      const msg  = `Hola Altorra, me interesa ${tipo.toLowerCase()} en ${zona}.${pres}${extra}${urg}`;
      gOut.textContent = msg;
      gWA.href = 'https://wa.me/573235016747?text=' + encodeURIComponent(msg);
    }
    ['change','input'].forEach(ev=>{
      [gTipo,gZona,gPres,gUrg,gExtra].forEach(el=> el.addEventListener(ev, buildMsg));
    });
    buildMsg();
    gCopy?.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(gOut.textContent);
        gCopy.textContent='¡Copiado!';
        setTimeout(()=>gCopy.textContent='Copiar mensaje',1500);
      }catch(e){
        gCopy.textContent='Copiar (selecciona)';
      }
    });
  </script>
</body>
</html>
