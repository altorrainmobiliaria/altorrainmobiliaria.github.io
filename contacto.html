<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contacto | Altorra</title>
  <meta name="description" content="Ponte en contacto con Altorra Inmobiliaria: Administración y arriendo de inmuebles, ventas, avalúos y servicios legales inmobiliarios."/>
  <link rel="manifest" href="manifest.json"/>
  <meta name="theme-color" content="#d4af37"/>
  <meta property="og:title" content="Contacto | Altorra"/>
  <meta property="og:description" content="Estamos listos para ayudarte a encontrar tu próximo hogar o inversión."/>
  <meta property="og:image" content="/hero-contact.png"/>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;800&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>

  <style>
  /* ===== Contacto (scoped para no afectar otras páginas) ===== */
  .page-contact main{max-width:var(--page-max);margin:0 auto 60px;padding:0 16px;display:grid;gap:24px;grid-template-columns:1.12fr .88fr;align-items:start}
  @media (max-width:960px){.page-contact main{grid-template-columns:1fr}}

  .c-hero{position:relative;min-height:62vh;display:flex;align-items:center;justify-content:center;text-align:center;padding-top:calc(var(--header-h) + 40px);color:#fff;overflow:hidden;margin-bottom:32px}
  .c-hero .bg{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}
  .c-hero .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.55));z-index:1}
  .c-hero .inner{position:relative;z-index:2;padding:0 16px;max-width:960px}
  .c-title{color:#fff;font-size:clamp(2.2rem,5vw,3rem);font-weight:800;line-height:1.05;text-shadow:0 1px 0 rgba(0,0,0,.35),0 2px 2px rgba(0,0,0,.35),0 6px 12px rgba(0,0,0,.28),0 14px 28px rgba(0,0,0,.22);-webkit-text-stroke:.4px rgba(0,0,0,.15)}
  .c-sub{margin-top:12px;color:#fff;opacity:.98;font-size:clamp(1rem,2.2vw,1.2rem);font-weight:600;letter-spacing:.2px;line-height:1.35;text-shadow:0 1px 0 rgba(0,0,0,.35),0 2px 6px rgba(0,0,0,.28),0 8px 18px rgba(0,0,0,.20);-webkit-text-stroke:.3px rgba(0,0,0,.12)}
  @media (min-width:960px){.c-hero{min-height:72vh}.c-hero .bg{object-position:center top}}

  .c-card{background:#fff;border:1px solid rgba(17,24,39,0.08);border-radius:18px;padding:28px;box-shadow:0 12px 32px rgba(17,24,39,.06)}
  .c-card h2{margin:0 0 10px;font-size:1.6rem;font-weight:800;color:var(--gold)}
  .c-muted{color:var(--muted)}
  .c-right{grid-column:2;display:flex;flex-direction:column;gap:16px}
  @media (max-width:960px){.c-right{grid-column:1}}

  .page-contact label{font-weight:600;display:flex;flex-direction:column;gap:6px}
  .page-contact .grid{display:grid;gap:14px}
  .page-contact .grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
  @media (max-width:700px){.page-contact .grid.two{grid-template-columns:1fr}}
  .page-contact input,.page-contact select,.page-contact textarea{padding:12px 14px;border-radius:12px;border:1px solid rgba(17,24,39,.16);font-size:.95rem;background:#fff;transition:border-color .15s ease, box-shadow .15s ease}
  .page-contact textarea{resize:vertical;min-height:160px}
  .page-contact input:focus-visible,.page-contact select:focus-visible,.page-contact textarea:focus-visible{outline:3px solid rgba(212,175,55,.22);border-color:var(--gold)}
  .page-contact .consent{display:flex;align-items:flex-start;gap:10px;font-size:.92rem;color:#374151}
  .page-contact .consent input{margin-top:3px}

  /* Botón dorado (sólo contacto) */
  .page-contact .btn{display:inline-block;padding:12px 20px;border-radius:12px;font-weight:800;border:0;cursor:pointer;background:linear-gradient(90deg,var(--accent),#ffd95e);color:#111;box-shadow:0 10px 26px rgba(0,0,0,.12);transition:transform .15s ease, box-shadow .2s ease}
  .page-contact .btn:hover{transform:translateY(-1px);box-shadow:0 14px 30px rgba(0,0,0,.16)}

  .c-info ul{list-style:disc;margin:10px 0 0 18px;padding:0;color:#111}
  .c-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  .c-pill{padding:10px 14px;border-radius:12px;font-weight:700;border:1px solid rgba(0,0,0,.12);background:#f8fafc}
  .c-pill:hover{background:#fff;box-shadow:0 10px 24px rgba(0,0,0,.06)}

  .c-gen{display:grid;gap:12px;grid-template-columns:1fr 1fr}
  .c-gen .full{grid-column:1/-1}
  @media (max-width:700px){.c-gen{grid-template-columns:1fr}}
  .c-out{border:1px dashed rgba(17,24,39,.22);border-radius:12px;padding:10px 12px;background:#f9fafb;min-height:48px;color:#374151;line-height:1.4;word-break:break-word;overflow:auto;max-height:140px}
  </style>
</head>
<body class="page-contact">
  <!-- Header externo -->
  <div id="header-placeholder"></div>

  <!-- Hero -->
  <section class="c-hero" aria-label="Hero">
    <img class="bg" src="/multimedia/hero-contact.png" alt="Contacto Altorra"/>
    <div class="overlay" aria-hidden="true"></div>
    <div class="inner">
      <h1 class="c-title">Conéctate con Nosotros</h1>
      <p class="c-sub">Estamos listos para ayudarte a encontrar tu próximo hogar o inversión.</p>
    </div>
  </section>

  <!-- Contenido -->
  <main id="contacto">
    <!-- Formulario -->
    <section class="c-card" aria-labelledby="t-contacto">
      <h2 id="t-contacto">Envíanos un mensaje</h2>
      <p class="c-muted">Te responderemos en el menor tiempo posible.</p>

      <form id="contactForm" class="contact-form" action="https://formsubmit.co/altorrainmobiliaria@gmail.com" method="POST" accept-charset="UTF-8">
        <!-- FormSubmit -->
        <input type="hidden" name="_subject" value="Nuevo contacto desde la web"/>
        <input type="hidden" name="_next" value="https://altorrainmobiliaria.github.io/gracias.html"/>
        <input type="hidden" name="_captcha" value="false"/>
        <input type="hidden" name="_template" value="table"/>
        <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off"/>

        <div class="grid two">
          <label>Nombre completo
            <input type="text" name="Nombre" autocomplete="name" required/>
          </label>
          <label>Correo electrónico
            <input type="email" name="Email" autocomplete="email" required/>
          </label>
        </div>

        <div class="grid two">
          <label>Teléfono
            <input type="tel" name="Teléfono" inputmode="tel" autocomplete="tel" placeholder="+57 323 501 6747" required/>
          </label>
          <label>Motivo
            <select name="Motivo" required>
              <option value="Comprar">Comprar</option>
              <option value="Arriendo">Arriendo</option>
              <option value="Por días">Por días</option>
              <option value="Publicar propiedad">Publicar propiedad</option>
              <option value="Avalúos">Avalúos</option>
              <option value="Servicios jurídicos">Servicios jurídicos</option>
              <option value="Servicios contables">Servicios contables</option>
              <option value="Otro">Otro</option>
            </select>
          </label>
        </div>

        <label>Mensaje
          <textarea name="Mensaje" placeholder="Cuéntanos brevemente cómo podemos ayudarte…" required></textarea>
        </label>

        <label class="consent">
          <input type="checkbox" required/>
          <span>Autorizo el tratamiento de mis datos para recibir información relacionada con los servicios de Altorra.</span>
        </label>

        <button class="btn" type="submit">Enviar mensaje</button>
      </form>
    </section>

    <!-- Lateral: info -->
    <aside class="c-card c-right c-info" aria-labelledby="t-info">
      <h2 id="t-info">Información de contacto</h2>
      <ul>
        <li><strong>Teléfono:</strong> +57 323 501 6747</li>
        <li><strong>Email:</strong> altorrainmobiliaria@gmail.com</li>
        <li><strong>Ciudad:</strong> Cartagena de Indias, Bolívar (CO)</li>
        <li><strong>Horario:</strong> Lun–Sáb 8:00–18:00</li>
        <li><strong>Instagram:</strong> <a href="https://instagram.com/altorrainmobiliaria" target="_blank" rel="noopener">@altorrainmobiliaria</a></li>
      </ul>
      <div class="c-actions">
        <a class="c-pill" href="publicar-propiedad.html">Publicar mi propiedad</a>
        <a class="c-pill" href="propiedades-comprar.html">Ver propiedades</a>
      </div>
    </aside>

    <!-- Lateral: generador -->
    <section class="c-card c-right" aria-labelledby="t-gen">
      <h2 id="t-gen">Generador de mensaje inteligente</h2>
      <p class="c-muted">Arma un mensaje claro y abre WhatsApp con un toque.</p>

      <div class="c-gen" style="margin-top:8px">
        <label>Interés
          <select id="gTipo">
            <option>Comprar</option>
            <option>Arriendo</option>
            <option>Por días</option>
            <option>Publicar propiedad</option>
            <option>Avalúos</option>
            <option>Servicios jurídicos</option>
            <option>Servicios contables</option>
          </select>
        </label>
        <label>Barrio / zona (opcional)
          <input id="gZona" type="text" placeholder="Toda Cartagena"/>
        </label>
        <label>Presupuesto aprox. (COP)
          <input id="gPres" type="number" min="0" step="100000" placeholder="Ej. 1.200.000"/>
        </label>
        <label>Urgencia
          <select id="gUrg">
            <option value="normal">Quiero información</option>
            <option value="alta">Necesito respuesta hoy</option>
            <option value="media">Esta semana</option>
          </select>
        </label>
        <label class="full">Detalles (opcional)
          <input id="gExtra" type="text" placeholder="Habitaciones, amoblado, área…"/>
        </label>
        <div class="c-out full" id="gOut" aria-live="polite"></div>
        <div class="c-actions full">
          <a id="gWA" class="c-pill" target="_blank" rel="noopener">Abrir WhatsApp</a>
          <button id="gCopy" class="c-pill" type="button">Copiar mensaje</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer externo -->
  <div id="footer-placeholder"></div>

  <!-- Carga header y footer -->
  <script src="header-footer.js" defer></script>

  <!-- SW + lazy -->
  <script>
    if('serviceWorker' in navigator){navigator.serviceWorker.register('/service-worker.js').catch(()=>{})}
    document.querySelectorAll('img').forEach(img=>{ if(!img.hasAttribute('loading')) img.setAttribute('loading','lazy')});
  </script>

  <!-- Lógica del generador -->
  <script>
    const fmtCOP = n => isNaN(n)?'—':(+n).toLocaleString('es-CO',{style:'currency',currency:'COP',maximumFractionDigits:0});
    const gTipo = document.getElementById('gTipo');
    const gZona = document.getElementById('gZona');
    const gPres = document.getElementById('gPres');
    const gUrg  = document.getElementById('gUrg');
    const gExtra= document.getElementById('gExtra');
    const gOut  = document.getElementById('gOut');
    const gWA   = document.getElementById('gWA');
    const gCopy = document.getElementById('gCopy');

    function buildMsg(){ 
      const tipo = gTipo.value;
      const zona = gZona.value.trim() || 'Cartagena';
      const pres = gPres.value ? ` Presupuesto aprox: ${fmtCOP(gPres.value)}.` : '';
      const urg  = gUrg.value==='alta' ? ' Necesito respuesta hoy.' : (gUrg.value==='media' ? ' Me sirve esta semana.' : '');
      const extra= gExtra.value.trim()? ` Detalles: ${gExtra.value.trim()}.` : '';
      const msg  = `Hola Altorra, me interesa ${tipo.toLowerCase()} en ${zona}.${pres}${extra}${urg}`;
      gOut.textContent = msg;
      gWA.href = 'https://wa.me/573235016747?text=' + encodeURIComponent(msg);
    }
    ['change','input'].forEach(ev=>[gTipo,gZona,gPres,gUrg,gExtra].forEach(el=>el.addEventListener(ev,buildMsg)));
    buildMsg();
    gCopy?.addEventListener('click', async ()=>{ 
      try{ await navigator.clipboard.writeText(gOut.textContent); gCopy.textContent='¡Copiado!'; setTimeout(()=>gCopy.textContent='Copiar mensaje',1500); }
      catch(e){ gCopy.textContent='Copiar (selecciona)'; }
    });
  </script>
</body>
</html>
